# ===== Core =====
APP_ENV=production
TZ=Asia/Tehran

# ===== Telegram =====
TELEGRAM_BOT_TOKEN=CHANGEME
TELEGRAM_ADMIN_IDS=111111111,222222222
LOG_CHAT_ID=
REQUIRED_CHANNEL=@your_channel   # optional
DEBUG_UPDATES=0                  # 1 to log all updates (debug)

# ===== Marzban =====
MARZBAN_BASE_URL=https://panel.example.com
MARZBAN_ADMIN_USERNAME=admin
MARZBAN_ADMIN_PASSWORD=CHANGEME

# ===== Database =====
# Async SQLAlchemy DSN (asyncmy).
DB_URL=mysql+asyncmy://sudo_user:CHANGE_ME@db:3306/marzban_sudo?charset=utf8mb4
# MariaDB container credentials (compose)
DB_PASSWORD=CHANGE_ME
DB_ROOT_PASSWORD=CHANGE_ME_ROOT

# ===== Logging =====
LOG_LEVEL=INFO           # DEBUG|INFO|WARNING|ERROR
LOG_FORMAT=json          # json|text (prod defaults to json)
LOG_TO_FILE=1            # 1=write ./logs/app.log when possible
LOG_FILE_PATH=./logs/app.log

# ===== Security / Admin =====
ADMIN_CAPS_DEFAULT=*     # * or CSV of caps (e.g. WALLET_MODERATE,USERS_MANAGE,PLANS_MANAGE)
BANGATE_CACHE_TTL=60     # seconds

# ===== Gates & Feature Toggles =====
PHONE_VERIFICATION_ENABLED=0
SUB_DOMAIN_PREFERRED=irsub.fun
NOTIFY_USER_ON_ADMIN_OPS=1

# ===== Policies / Rate / Retention =====
RATE_LIMIT_USER_MSG_PER_MIN=20
CLEANUP_EXPIRED_AFTER_DAYS=7
PENDING_ORDER_AUTOCANCEL_HOURS=12
RECEIPT_RETENTION_DAYS=30

# ===== Notifications Strategy =====
NOTIFY_USAGE_THRESHOLDS=0.7,0.9
NOTIFY_EXPIRY_DAYS=3,1,0

# ===== Trial =====
TRIAL_ENABLED=1
TRIAL_TEMPLATE_ID=1
TRIAL_DATA_GB=2
TRIAL_DURATION_DAYS=1

# ===== Wallet / Pricing =====
# قیمت افزایشی هر گیگ (تومان) در برخی مسیرهای اکانت/ادمین
EXTRA_GB_PRICE_TMN=20000

# ===== Healthcheck =====
HEALTHCHECK_SKIP_MARZBAN=0